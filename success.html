<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="long, manh">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/x-icon" href="./img/flag.jpg">
    <title>üêß Antarctica Airlines - About</title>
</head>

<body>
    <header class="header">
        <img src="./img/logo.jpg" alt="Antarctica Airlines logo" class="logo">
        <nav class="header-nav">
            <section class="top-nav">
                <input id="menu-toggle" type="checkbox" />
                <label class='menu-button-container' for="menu-toggle">
                <div class='menu-button'></div>
              </label>
                <ul class="menu">
                  <li>
                    <a id="index_a" href="./index.html">Home</a>
                  </li>
                  <li>
                    <a id="product_a" href="./product.html">Product</a>
                  </li>
                  <li>
                    <a id="about_a" href="./about.html">About</a></li>
                  <li>
                    <a id="schedule_a" href="./schedule.html">Schedule</a>
                  </li>
                  <li>
                    <a id="acknowledge_a" href="./acknowledge.html">Acknowledge</a>
                  </li>
                  <li>
                    <a id="booking_a" href="./booking.html">Booking</a>
                  </li>
                </ul>
              </section>
        </nav>
    </header>
    <div class="success-annoucement">
        <div><h2>The ticket </h2> <h2 id="tickettype"></h2> <h2>is booked successfully!</h2> </div>
        <div><h2>The exact date will be sent soon to </h2> <h2 id="emailticket"></h2></div>
        <div><h2>Tracking code </h2> <h2 id="trackingcode"></h2></div>
    </div>
    <div class="success-button">
        <button class="button-success" id="button1"> <a href="./booking.html">Book another ticket</a></button>
        <button class="button-success" id="button2"> <a href="./index.html">Back to home</a></button>
    </div>
    <footer class="footer">
        <span>¬© Antarctica Airlines 2023</span>
        <span>Date update: 12-04-2023</span>
    </footer>
</body>

<script>
function GetURLParameter(sParam)
{
    var sPageURL = window.location.search.substring(1);
    var sURLVariables = sPageURL.split('&');
    for (var i = 0; i < sURLVariables.length; i++) 
    {
        var sParameterName = sURLVariables[i].split('=');
        if (sParameterName[0] == sParam) 
        {
            return sParameterName[1];
        }
    }
}
var fname = GetURLParameter('fname');
var lname = GetURLParameter('lname');
var email = GetURLParameter('email');
var cities = GetURLParameter('cities');
var arrdep = GetURLParameter('arrdep');

var ticketype;
if (arrdep == "1f") {
    ticketype = "from " + cities + " to Antarctica ";
}
else if (arrdep == "1t") {
    ticketype = "from Antarctica to " + cities + " ";
}
if (arrdep == "2f") {
    ticketype = "from " + cities + " to Antarctica and back to " + cities + " ";
}
if (arrdep == "2t") {
    ticketype = "from Antarctica to " + cities + " and back to Antarctica ";
}
document.getElementById("tickettype").innerHTML = ticketype;
email = email.replace("%40","@");
document.getElementById("emailticket").innerHTML = email; // no need validation for XSS so far?
randomcode = "";
for (let i =0; i < 5; i+=1) {
    if (i%2==0) {
        n = Math.floor(Math.random()*26);
        randomcode += String.fromCharCode(65 + n);
    }
    else {
        n = Math.floor(Math.random()*10);
        randomcode += String(n);
    }
}
document.getElementById("trackingcode").innerHTML = randomcode;
</script>
<script src="./script.js"></script>

</html>